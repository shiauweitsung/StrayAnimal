(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0c7467ce"],{"2e97":function(t,i,e){"use strict";e.r(i);var a=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"adopt_favorite"},[e("loading",{attrs:{active:t.isLoading},on:{"update:active":function(i){t.isLoading=i}}},[e("div",{staticClass:"loadingio-spinner-spin-vr67c069ls"},[e("div",{staticClass:"ldio-i4ihhev39wf"},[e("div",[e("div")]),e("div",[e("div")]),e("div",[e("div")]),e("div",[e("div")]),e("div",[e("div")]),e("div",[e("div")]),e("div",[e("div")])])])]),e("div",{staticClass:"adopt_favorite-wrap"},[e("div",{staticClass:"adopt_favorite-wrap-content"},t._l(t.favoriteData,(function(i,a){return e("div",{key:a,staticClass:"adopt_favorite-wrap-content-item"},[e("div",{staticClass:"adopt_favorite-wrap-content-item-img"},[e("img",{attrs:{src:i.image,alt:""}})]),e("div",{staticClass:"adopt_favorite-wrap-content-item-info"},[e("p",[t._v("姓名 : "+t._s(i.title))]),e("p",[t._v("種類 : "+t._s(i.category))]),e("p",[t._v("性別 : "+t._s(i.unit))]),e("p",{staticClass:"more-content"},[t._v("敘述 : "+t._s(i.content))]),e("button",{staticClass:"read-more",attrs:{href:"#"}},[t._v("查看更多")]),e("p",{staticClass:"more-description"},[t._v("備註 : "+t._s(i.description))]),e("button",{staticClass:"read-more-des",attrs:{href:"#"}},[t._v("查看更多")])]),e("div",{staticClass:"adopt_favorite-wrap-content-item-btn"},[e("button",{staticClass:"btn-second",on:{click:function(e){return e.preventDefault(),t.addCart(i.id)}}},[t._v(" 預約領養 ")]),e("button",{staticClass:"btn-second",on:{click:function(e){return e.preventDefault(),t.delFavorite(i)}}},[t._v(" 取消關注 ")])])])})),0)])],1)},s=[],o=e("3191"),n=o["a"],r=e("2877"),c=Object(r["a"])(n,a,s,!1,null,null,null);i["default"]=c.exports},3191:function(t,i,e){"use strict";(function(t){e("99af"),e("4de4"),e("c975"),e("a434");i["a"]={name:"adopt_favorite",data:function(){return{favorite:JSON.parse(localStorage.getItem("addfav"))||[],favoriteData:[],isLoading:!1}},methods:{getFavorite:function(){var t=this,i="".concat("https://vue-course-api.hexschool.io","/api/").concat("shiauanimal","/products/all");t.isLoading=!0,t.$http.get(i).then((function(i){t.favoriteData=i.data.products.filter((function(i){return t.isLoading=!1,-1!==t.favorite.indexOf(i.id)}))}))},delFavorite:function(t){var i=this,e=i.favorite.indexOf(t.id);-1!==e&&i.favorite.splice(e,1),localStorage.setItem("addfav",JSON.stringify(i.favorite)),i.$bus.$emit("favnum",i.favorite.length),i.getFavorite()},addCart:function(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,e="".concat("https://vue-course-api.hexschool.io","/api/").concat("shiauanimal","/cart"),a=this;a.isLoading=!0;var s={product_id:t,qty:i};a.$http.post(e,{data:s}).then((function(t){console.log(t),t.data.success?a.getCart():console.log("error"),a.isLoading=!1}))},getCart:function(){var t="".concat("https://vue-course-api.hexschool.io","/api/").concat("shiauanimal","/cart"),i=this;i.isLoading=!0,i.$http.get(t).then((function(t){console.log("getCart",t),i.isLoading=!1,i.$bus.$emit("cartVal",t.data.data.carts.length)}))},getMorecontent:function(){t(".more-content").each((function(i,e){t(this).css("-webkit-line-clamp");var a=t(this).height();a>=105?t(this).siblings(".read-more").show():t(this).siblings(".read-more").hide()})),t(".more-description").each((function(i,e){t(this).css("-webkit-line-clamp");var a=t(this).height();a>=105?t(this).siblings(".read-more-des").show():t(this).siblings(".read-more-des").hide()}))}},created:function(){var t=this;t.getFavorite(),t.getCart()},updated:function(){t(".read-more").click((function(){var i=t(this).siblings(".more-content").css("display"),e=t(this).siblings(".more-content"),a="block"===i?"查看更多":"隱藏";t(this).text(a),"-webkit-box"===i?e.css("display","block"):e.css("display","-webkit-box")})),t(".read-more-des").click((function(){var i=t(this).siblings(".more-description").css("display"),e=t(this).siblings(".more-description"),a="block"===i?"查看更多":"隱藏";t(this).text(a),"-webkit-box"===i?e.css("display","block"):e.css("display","-webkit-box")})),this.getMorecontent()}}}).call(this,e("1157"))},a434:function(t,i,e){"use strict";var a=e("23e7"),s=e("23cb"),o=e("a691"),n=e("50c4"),r=e("7b0b"),c=e("65f0"),d=e("8418"),l=e("1dde"),v=e("ae40"),f=l("splice"),h=v("splice",{ACCESSORS:!0,0:0,1:2}),u=Math.max,p=Math.min,g=9007199254740991,m="Maximum allowed length exceeded";a({target:"Array",proto:!0,forced:!f||!h},{splice:function(t,i){var e,a,l,v,f,h,b=r(this),_=n(b.length),C=s(t,_),w=arguments.length;if(0===w?e=a=0:1===w?(e=0,a=_-C):(e=w-2,a=p(u(o(i),0),_-C)),_+e-a>g)throw TypeError(m);for(l=c(b,a),v=0;v<a;v++)f=C+v,f in b&&d(l,v,b[f]);if(l.length=a,e<a){for(v=C;v<_-a;v++)f=v+a,h=v+e,f in b?b[h]=b[f]:delete b[h];for(v=_;v>_-a+e;v--)delete b[v-1]}else if(e>a)for(v=_-a;v>C;v--)f=v+a-1,h=v+e-1,f in b?b[h]=b[f]:delete b[h];for(v=0;v<e;v++)b[v+C]=arguments[v+2];return b.length=_-a+e,l}})},c975:function(t,i,e){"use strict";var a=e("23e7"),s=e("4d64").indexOf,o=e("a640"),n=e("ae40"),r=[].indexOf,c=!!r&&1/[1].indexOf(1,-0)<0,d=o("indexOf"),l=n("indexOf",{ACCESSORS:!0,1:0});a({target:"Array",proto:!0,forced:c||!d||!l},{indexOf:function(t){return c?r.apply(this,arguments)||0:s(this,t,arguments.length>1?arguments[1]:void 0)}})}}]);
//# sourceMappingURL=chunk-0c7467ce.46caf34c.js.map